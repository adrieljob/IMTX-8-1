package com.snmp;

import org.springframework.scheduling.annotation.EnableScheduling;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.beans.factory.annotation.Autowired;
import com.snmp.SnmpDatabase.SnmpDatabase;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.scheduling.annotation.Scheduled;
import org.springframework.stereotype.Component;


@SpringBootApplication
@EnableScheduling  // Habilita o agendamento de tarefas
public class MainApplication {

    @Autowired
    private SnmpDatabase snmpDatabase;

    public static void main(String[] args) {
        SpringApplication.run(MainApplication.class, args);
        System.out.println("üöÄ Spring Boot Aplica√ß√£o Iniciada com Sucesso!");
    }
    @Autowired
    private SnmpService snmpService;

    @Scheduled(fixedRate = 5000)
    public void verificarEInserirOids() {
        System.out.println("üîÑ Verificando OIDs e salvando no banco...");

        String[] oids = {
                //TX1
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.1",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.1",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.1",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.1",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.1",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.1",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.1",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.1",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.1",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.1",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.1",   // Ethernet Speed 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.1",   // IP Packet Rate 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.1",   // Stream Locked 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.1",   // FEC Alarm 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.1",  // IP Decoding Alarm 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.1.1", // FEC D 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.1.2", // FEC L 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.1",   // Time Offset 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.1.1",   // Input Bitrate 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.1.3",   // ASI Format 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.1",    // 10 MHz 1
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.1",    // 1 PPs 1

                //TX2
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.2",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.2",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.2",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.2",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.2",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.2",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.2",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.2",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.2",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.2",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.2",   // Ethernet Speed 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.2",   // IP Packet Rate 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.2",   // Stream Locked 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.2",   // FEC Alarm 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.2",  // IP Decoding Alarm 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.2.1", // FEC D 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.2.2", // FEC L 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.2",   // Time Offset 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.2.1",   // Input Bitrate 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.2.3",   // ASI Format 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.2",    // 10 MHz 2
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.2",    // 1 PPs 2

                //TX3
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.3",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.3",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.3",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.3",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.3",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.3",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.3",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.3",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.3",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.3",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.3",   // Ethernet Speed 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.3",   // IP Packet Rate 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.3",   // Stream Locked 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.3",   // FEC Alarm 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.3",  // IP Decoding Alarm 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.3.1", // FEC D 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.3.2", // FEC L 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.3",   // Time Offset 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.3.1",   // Input Bitrate 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.3.3",   // ASI Format 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.3",    // 10 MHz 3
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.3",    // 1 PPs 3

                //TX4
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.4",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.4",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.4",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.4",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.4",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.4",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.4",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.4",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.4",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.4",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.4",   // Ethernet Speed 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.4",   // IP Packet Rate 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.4",   // Stream Locked 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.4",   // FEC Alarm 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.4",  // IP Decoding Alarm 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.4.1", // FEC D 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.4.2", // FEC L 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.4",   // Time Offset 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.4.1",   // Input Bitrate 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.4.3",   // ASI Format 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.4",    // 10 MHz 4
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.4",    // 1 PPs 4

                //TX5
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.5",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.5",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.5",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.5",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.5",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.5",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.5",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.5",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.5",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.5",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.5",   // Ethernet Speed 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.5",   // IP Packet Rate 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.5",   // Stream Locked 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.5",   // FEC Alarm 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.5",  // IP Decoding Alarm 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.5.1", // FEC D 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.5.2", // FEC L 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.5",   // Time Offset 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.5.1",   // Input Bitrate 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.5.3",   // ASI Format 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.5",    // 10 MHz 5
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.5",    // 1 PPs 5


                //TX6
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.6",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.6",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.6",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.6",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.6",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.6",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.6",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.6",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.6",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.6",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.6",   // Ethernet Speed 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.6",   // IP Packet Rate 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.6",   // Stream Locked 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.6",   // FEC Alarm 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.6",  // IP Decoding Alarm 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.6.1", // FEC D 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.6.2", // FEC L 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.6",   // Time Offset 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.6.1",   // Input Bitrate 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.6.3",   // ASI Format 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.6",    // 10 MHz 6
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.6",    // 1 PPs 6

                //TX7
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.7",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.7",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.7",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.7",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.7",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.7",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.7",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.7",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.7",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.7",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.7",   // Ethernet Speed 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.7",   // IP Packet Rate 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.7",   // Stream Locked 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.7",   // FEC Alarm 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.7",  // IP Decoding Alarm 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.7.1", // FEC D 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.7.2", // FEC L 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.7",   // Time Offset 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.7.1",   // Input Bitrate 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.7.3",   // ASI Format 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.7",    // 10 MHz 7
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.7",    // 1 PPs 7

                //TX8
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.3.8",    // Tens√£o 36V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.2.8",    // Tens√£o 24V
                "1.3.6.1.4.1.43768.3.1.1.10.2.9.1.1.1.4.8",    // Corrente
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.3.8",    // Temperatura
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.7.8",    // Temperatura do m√≥dulo
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.13.8",   // FAN1 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.8.2.1.1.14.8",   // FAN2 Velocidade
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.1.1.4.8",    // Frequ√™ncia
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.3.8",   // Ethernet Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.3.1.1.1.2.8",  // ASI Cable Presente
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.4.8",   // Ethernet Speed 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.5.8",   // IP Packet Rate 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.1.1.1.6.8",   // Stream Locked 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.10.3.1.1.3.8",   // FEC Alarm 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.2.1.1.4.8",  // IP Decoding Alarm 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.8.1", // FEC D 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.2.1.6.8.2", // FEC L 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.2.2.1.1.3.8",   // Time Offset 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.6.8.1",   // Input Bitrate 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.5.1.2.1.3.8.3",   // ASI Format 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.2.8",    // 10 MHz 8
                "1.3.6.1.4.1.43768.3.1.1.10.2.7.4.1.1.3.8",    // 1 PPs 8
        };

        int totalSalvos = 0;

        for (String oid : oids) {
            String valor = snmpService.getSnmpData(oid); // Consulta SNMP
            snmpDatabase.saveData(oid, valor);
            totalSalvos++;
        }

        System.out.println("‚úÖ OIDs verificadas e salvas com sucesso!");
        System.out.println("üö® Total de OIDs salvos: " + totalSalvos);

    }
}

